<!DOCTYPE html>
<html style="font-size: 16px;">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="Blogpost">
  <meta name="description" content="Insert post">
  <meta name="page_type" content="np-template-header-footer-from-plugin">
  <meta content="BlogPost" property="og:title" />
  <meta content="Sito WEB per la creazione Schede PG e Missioni da usare con il BOT Il Maggiordomo"
    property="og:description" />
  <meta content="https://tisifea.duckdns.org/" property="og:url" />
  <meta content="https://tisifea.duckdns.org/images/stemma_gilda_f.png" property="og:image" />
  <meta content="#43B581" data-react-helmet="true" name="theme-color" />
  <meta property="og:type" content="website">
  <title>Blogpost</title>
  <link rel="icon" type="image/jpg" href="../images/Logo_bot.jpg">
  <link rel="stylesheet" href="../css/nicepage.css" media="screen">
  <link rel="stylesheet" href="../css/Post.css" media="screen">
  <link rel="stylesheet" type="text/css" href="../fonts/font-awesome-4.7.0/css/font-awesome.min.css">
  <script class="u-script" type="text/javascript" src="../js/jquery.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="../jS/nicepage.js" defer=""></script>
  <meta name="generator" content="Nicepage 3.16.0, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
  <script type="application/ld+json">
  {
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"url": "/",
		"logo": "../images/stemma_gilda_f.png"
  }
  </script>
  <link rel="canonical" href="/">
</head>

<body class="u-body">
  {{> header }}

  <section class="u-align-center u-clearfix u-image u-section-1" id="sec-f224" data-image-width="2000"
    data-image-height="1333">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
      <div class="u-container-style u-expanded-width u-post-details u-radius-45 u-shape-round u-white u-post-details-1">
        <div class="u-container-layout u-valign-bottom u-container-layout-1">
          <h3>Nuovo Post</h3>
          <form id="myform" action="/post/insert" method="POST">
            <span>Titolo Post:</span>
            <input id="titolo" name="titolo" class="u-blog-control u-text u-text-1" type="text">
            <img id="img_box" name="img_box" alt="" class="u-blog-control u-expanded-width u-image u-image-default u-image-1" src="../images/stemma_gilda_f.png">
            <h2 class="u-align-left u-text u-text-27">Immagine Post</h2>
            <input id="img_post" name="img_post" class="u-align-left u-text" style="width:100%;" type="text" 
              placeholder="Inserire URL della Immagine" onchange="avatar_Previwe()">
            <div class="u-blog-control u-metadata u-text-grey-30 u-metadata-1">
              <span class="u-meta-category">
                Inserire Famiglia:
                <select id="famiglia" class="u-blog-control u-text u-text-1" name="famiglia">
                  <option>Scegli Famiglia</option>
                  <option>Mondo Di gioco</option>
                  <option>Classi</option>
                  <option>Razze</option>
                  <option>Homebrew</option>
                  <option>Help</option>
                  <option>Altro</option>
                </select>
              </span>
              <span class="u-meta-comments">
                Inserire Tag:
                <input id="tag" name="tag" class="u-blog-control u-text u-text-1" type="text">
              </span>
            </div>
            <h3>Inserire Testo del Post</h3>
            <textarea id="text" name="text" class="u-align-justify u-blog-control u-post-content u-text u-text-2"></textarea>
            <button type="submit">Crea Post</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  {{> footer}}
  
  <script class="u-script" type="text/javascript">
    function avatar_Previwe() {
      var imge_box = document.getElementById('img_box');
      var url_link = document.getElementById('img_post');
      if (url_link.value != "") {
        checkIfImageExists(url_link.value, (exists) => {
          if (exists) {
            imge_box.setAttribute("src", url_link.value);
          } else {
            imge_box.setAttribute("src", "/images/stemma_gilda_f.png");
          }
        });
      } else {
        imge_box.setAttribute("src", "/images/stemma_gilda_f.png");
      }
    }

    function checkIfImageExists(url, callback) {
      const img = new Image();
      img.src = url;

      if (img.complete) {
        callback(true);
      } else {
        img.onload = () => {
          callback(true);
        };

        img.onerror = () => {
          callback(false);
        };
      }
    }
  </script>
</body>

</html>